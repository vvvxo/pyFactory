import random
import numpy as np

processLen = 20  # 设置工序长度

maxGen = 100  # 进化代数
popSize = 30
Pc = 0.01  # 变异率
Pm = 0.6  # 交叉概率

# 厂房长和宽
fX = 40
fY = 30
# 工位区域大小,[长,宽]
area = np.array([[30, 5],
                 [3, 2], [3, 2], [4, 2], [3, 3], [4, 4], [3, 2],
                 [3, 2], [3, 2], [4, 2], [3, 3], [4, 4], [3, 2],
                 [3, 2], [3, 2], [4, 2], [3, 3], [4, 4], [3, 2],
                 [20, 5]])
# 存储相应工作的位置
coord = [[0, 0], [0, 0], [0, 0], [0, 0],
         [0, 0], [0, 0], [0, 0], [0, 0],
         [0, 0], [0, 0], [0, 0], [0, 0],
         [0, 0], [0, 0], [0, 0], [0, 0],]


# 物流费用
traSpe = np.array([
    [0,	30,	30,	20,	0,	20,	10,	30,	30,	20,	0,	20,	10,	30,	30,	20,	0,	20,	10,	0],
    [30,	0,	0,	40,	0,	0,	0,	0,	0,	40,	0,	0,	0,	0,	0,	40,	0,	0,	0,	0],
    [30,	0,	0,	40,	0,	0,	0,	0,	0,	40,	0,	0,	0,	0,	0,	40,	0,	0,	0,	0],
    [20,	40,	40,	0,	50,	0,	0,	40,	40,	0,	50,	0,	0,	40,	40,	0,	50,	0,	0,	0],
    [0,	0,	0,	50,	0,	60,	0,	0,	0,	50,	0,	60,	0,	0,	0,	50,	0,	60,	0,	0],
    [20,	0,	0,	0,	60,	0,	65,	0,	0,	0,	60,	0,	65,	0,	0,	0,	60,	0,	65,	0],
    [10,	0,	0,	0,	0,	65,	0,	0,	0,	0,	0,	65,	0,	0,	0,	0,	0,	65,	0,	70],
    [30,	0,	0,	40,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	40,	0,	0,	0,	0],
    [30,	0,	0,	40,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	40,	0,	0,	0,	0],
    [20,	40,	40,	0,	50,	0,	0,	40,	40,	0,	0,	0,	0,	40,	40,	0,	50,	0,	0,	0],
    [0,	0,	0,	50,	0,	60,	0,	0,	0,	50,	0,	0,	0,	0,	0,	50,	0,	60,	0,	0],
    [20,	0,	0,	0,	60,	0,	65,	0,	0,	0,	60,	0,	0,	0,	0,	0,	60,	0,	65,	0],
    [10,	0,	0,	0,	0,	65,	0,	0,	0,	0,	0,	65,	0,	0,	0,	0,	0,	65,	0,	70],
    [30,	0,	0,	40,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0],
    [30,	0,	0,	40,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0],
    [20,	40,	40,	0,	50,	0,	0,	40,	40,	0,	0,	0,	0,	40,	40,	0,	0,	0,	0,	0],
    [0,	0,	0,	50,	0,	60,	0,	0,	0,	50,	0,	0,	0,	0,	0,	50,	0,	0,	0,	0],
    [20,	0,	0,	0,	60,	0,	65,	0,	0,	0,	60,	0,	0,	0,	0,	0,	60,	0,	0,	0],
    [10,	0,	0,	0,	0,	65,	0,	0,	0,	0,	0,	65,	0,	0,	0,	0,	0,	65,	0,	70],
    [0,	0,	0,	0,	0,	0,	70,	0,	0,	0,	0,	0,	70,	0,	0,	0,	0,	0,	70,	0],
])

# 物流频率
traFre = np.zeros((len(traSpe), 20), int)


def createFre(traSpe):
    for i in range(0, len(traSpe)):
        for j in range(0, len(traSpe)):
            if traSpe[i][j] > 0:
                traFre[i][j] = traFre[i][j] + 1
